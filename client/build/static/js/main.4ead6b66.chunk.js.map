{"version":3,"sources":["images/post-default.jpg","post/apiPost.js","post/Posts.js","core/Home.js","auth/index.js","core/Menu.js","user/Signup.js","user/SocialLogin.js","user/Signin.js","user/apiUser.js","user/DeleteUser.js","user/FollowProfileButton.js","user/ProfileTabs.js","user/Profile.js","user/Users.js","user/EditProfile.js","user/FindPeople.js","post/NewPost.js","post/SinglePost.js","auth/PrivateRoute.js","post/EditPost.js","user/ForgotPassword.js","user/ResetPassword.js","MainRouter.js","App.js","index.js","images/avatar.jpg"],"names":["module","exports","__webpack_require__","p","create","userId","token","post","fetch","concat","process","method","headers","Accept","Authorization","body","then","response","json","catch","err","console","log","list","singlePost","postId","listByUser","Content-Type","remove","update","Posts","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadPosts","page","data","error","setState","posts","renderPosts","react_default","a","createElement","className","map","i","posterId","postedBy","_id","posterName","name","key","src","alt","title","onError","target","DefaultPost","style","height","width","substring","react_router_dom","to","state","length","Component","Home","post_Posts","signup","user","JSON","stringify","authenticate","jwt","next","window","localStorage","setItem","signout","removeItem","isAuthenticated","getItem","parse","forgotPassword","email","resetPassword","resetInfo","socialLogin","signin","isActive","history","path","location","pathname","color","withRouter","_ref","Fragment","cursor","onClick","push","Signup","handleChange","event","defineProperty","value","clickSubmit","preventDefault","_this$state","password","open","signupForm","onChange","type","_this$state2","display","SocialLogin","responseGoogle","_response$profileObj","profileObj","googleId","imageUrl","redirectToReferrer","responseFacebook","picture","appId","componentClicked","react_router","google_login_default","clientId","buttonText","onSuccess","onFailure","facebook_login_with_button_default","autoLoad","fields","callback","Signin","loading","redirectToReferer","signinForm","user_SocialLogin","read","updateUser","auth","follow","followId","unfollow","unfollowId","findPeople","DeleteUser","redirect","deleteAccount","props","deleteConfirmed","confirm","FollowProfileButton","followClick","onButtonClick","unfollowClick","following","ProfileTabs","_this$props","followers","person","borderRadius","border","DefaultProfile","Profile","checkFollow","find","follower","clickFollowButton","callApi","init","redirectToSignin","match","params","photoUrl","Date","getTime","created","toDateString","user_DeleteUser","user_FollowProfileButton","user_ProfileTabs","about","Users","componentDidMount","users","renderUsers","EditProfile","redirectToProfile","id","isValid","fileSize","test","_this$setState","files","size","userData","set","accept","FormData","FindPeople","clickFollow","toFollow","splice","followMessage","NewPost","postData","newPostForm","photo","SinglePost","redirectToHome","deletePost","renderPost","objectFit","PrivateRoute","component","rest","objectWithoutProperties","assign","render","from","EditPost","editPostForm","role","ForgotPassword","message","e","_this2","placeholder","autoFocus","ResetPassword","newPassword","resetPasswordLink","resetPasswordToken","MainRouter","core_Menu","exact","auth_PrivateRoute","App","src_MainRouter","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.4ead6b66.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/post-default.e84edac5.jpg\";","//update user info\nexport const create = (userId, token, post)=>{\n    return fetch(`${process.env.REACT_APP_API_URL}/post/create/${userId}`,{\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}` },\n        body: post\n        })\n        .then(response=>{\n        return response.json();\n    })\n        .catch(err=>console.log(err))\n};\n\n//create list of posts\nexport const list =() =>{\n    return fetch(`${process.env.REACT_APP_API_URL}/posts`,{\n        method: \"GET\"\n            })\n        .then(response=>{\n        return response.json();\n    })\n        .catch(err=>console.log(err))\n};\n\n//create  a single post view\nexport const singlePost =(postId) =>{\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`,{\n        method: \"GET\"\n            })\n        .then(response=>{\n        return response.json();\n    })\n        .catch(err=>console.log(err))\n};\n\nexport const listByUser = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/posts/by/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\n//remove post\nexport const remove = (postId, token)=>{\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`,{\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}` \n                } \n            })\n        .then(response=>{\n        return response.json();\n    })\n        .catch(err=>console.log(err))\n};\n\n//update user info\nexport const update = (postId, token, post)=>{\n    return fetch(`${process.env.REACT_APP_API_URL}/post/${postId}`,{\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}` },\n        body: post\n        })\n        .then(response=>{\n            console.log(response);\n           \n        return response.json();\n    })\n        .catch(err=>console.log(err))\n};","import React, { Component } from 'react';\nimport {list} from \"./apiPost\"\nimport DefaultPost from '../images/post-default.jpg'\nimport {Link} from 'react-router-dom'\n\nclass Posts extends Component {\n\n    constructor(){\n        super()\n        this.state={\n            posts:[]\n        }\n    }\n\n    loadPosts = page => {\n        list(page).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                this.setState({ posts: data });\n            }\n        });\n    };\n\n    componentDidMount() {\n        this.loadPosts(this.state.page);\n    }\n\n    //small cards of all users with dafault image\n    renderPosts = posts => {\n        return (\n            <div className=\"row\">\n                {posts.map((post, i) => {\n                    const posterId = post.postedBy\n                        ? `/user/${post.postedBy._id}`\n                        : \"\";\n                    const posterName = post.postedBy\n                        ? post.postedBy.name\n                        : \" Unknown\";\n\n                    return (\n                        <div className=\"card col-md-4\" key={i}>\n                            <div className=\"card-body\">\n                                <img\n                                    src={`${\n                                        process.env.REACT_APP_API_URL\n                                    }/post/photo/${post._id}`}\n                                    alt={post.title}\n                                    onError={i =>\n                                        (i.target.src = `${DefaultPost}`)\n                                    }\n                                    className=\"img-thunbnail mb-3\"\n                                    style={{ height: \"200px\", width: \"100%\" }}\n                                />\n                                <h5 className=\"card-title\">{post.title}</h5>\n                                <p className=\"card-text\">\n                                    {post.body.substring(0, 100)}\n                                </p>\n                                <br />\n                                <p className=\"font-italic mark\">\n                                    Posted by{\" \"}\n                                    <Link to={`${posterId}`}>\n                                        {posterName}{\" \"}\n                                    </Link>\n                                    {/* on {new Date(post.created).toDateString()} */}\n                                </p>\n                                <Link\n                                    to={`/post/${post._id}`}\n                                    className=\"btn btn-raised btn-primary btn-sm\">\n                                    Read more\n                                </Link>\n                            </div>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    };\n\n    render() {\n        const {posts} = this.state;\n        return (\n            <div className=\"container\">\n            <h2 className=\"mt-5 mb-5\">\n            {!posts.length? \"Loading...\": \"Recent Posts\"}\n            </h2>\n            {this.renderPosts(posts)}\n           \n            </div>\n        );\n    }\n}\n\nexport default Posts;","import React from 'react';\nimport Posts from '../post/Posts'\n\n\nconst Home = ()=>(\n    <div>\n        <div className =\"jumbotron\">\n        <h2>Home</h2>\n        <p className =\"lead\">Welcome!</p>\n        </div>\n        <div className=\"container\">\n            <Posts/>\n        </div>\n    </div>\n);\n\nexport default Home;","export const signup = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/signup`,\n    {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)       \n     })\n     .then(response=>{\n         return response.json()\n     })\n     .catch(err=> console.log(\"error\" + err))\n}\n\n\nexport const authenticate = (jwt, next) => {\n    if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"jwt\", JSON.stringify(jwt));\n        next();\n    }\n};\n\nexport const setName = (name, next) => {\n    if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"username\", JSON.stringify(name));\n        next();\n    }\n};\n\nexport const signout = (next) =>{\n    //delete token\n    if(typeof window !==\"undefined\")\n    localStorage.removeItem(\"jwt\")\n    next()\n    return fetch(`${process.env.REACT_APP_API_URL}/signout`,{\n        method: \"GET\"\n    })\n    .then(response=>{\n        return response.json()\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const isAuthenticated = () => {\n    if (typeof window == \"undefined\") {\n        return false;\n    }\n\n    if (localStorage.getItem(\"jwt\")) {\n        return JSON.parse(localStorage.getItem(\"jwt\"));\n    } else {\n        return false;\n    }\n};\n\nexport const forgotPassword = email => {\n    console.log(\"email: \", email);\n    return fetch(`${process.env.REACT_APP_API_URL}/forgot-password/`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({ email })\n    })\n        .then(response => {\n            console.log(\"forgot password response: \", response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const resetPassword = resetInfo => {\n    return fetch(`${process.env.REACT_APP_API_URL}/reset-password/`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(resetInfo)\n    })\n        .then(response => {\n            console.log(\"forgot password response: \", response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const socialLogin = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/social-login/`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        // credentials: \"include\", // works only in the same origin\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            console.log(\"social login response: \", response);\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const signin = user => {\n    return fetch(`${process.env.REACT_APP_API_URL}/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React  from 'react';\nimport {Link, withRouter} from 'react-router-dom';\nimport {signout, isAuthenticated} from '../auth';\n\nconst isActive = (history, path)=>{\n    if(history.location.pathname === path) return {color: \"#ff9900\"}\n    else return {color: \"#ffffff\"}\n};\n\n\n\n\nconst Menu =({history})=>(\n    <div>\n        <ul className=\"nav nav-tabs bg-primary\">\n\n        <li className=\"nav-item \">\n        <Link className=\"nav-link\" style={isActive(history,\"/\")} \n        to=\"/\">Home</Link>\n        </li>\n\n        <li className=\"nav-item \">\n        <Link className=\"nav-link\" style={isActive(history,\"/users\")} \n        to=\"/users\">Users</Link>\n        </li>\n\n        {!isAuthenticated () && (\n            <>\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\" style={isActive(history,\"/signin\")} \n                to=\"/signin\">Sign in</Link>\n                </li>\n\n                <li className=\"nav-item \">\n                <Link className=\"nav-link\" style={isActive(history,\"/signup\")} \n                to=\"/signup\">Sign up</Link>\n                </li>\n            </>\n        )}\n\n       {isAuthenticated () && (\n        <>\n           \n\n            <li className=\"nav-item \">  \n                <Link className=\"nav-link\"\n                    to={`user/findpeople/${isAuthenticated().user._id}`} \n                    style={isActive(history,`user/findpeople/${isAuthenticated().user._id}`)}\n                    >\n                    Find People\n                </Link>  \n            </li>\n   \n\n            <li className=\"nav-item \">  \n                <Link className=\"nav-link\"\n                    to={`/post/create/:userId`} \n                    style={isActive(history,`/post/create/:userId`)} \n                    >\n                    Create Post\n                </Link>  \n            </li>\n\n\n\n            <li className=\"nav-item \">\n                <Link className=\"nav-link\"\n                    to={`/user/${isAuthenticated().user._id}`} \n                    style={isActive(history,`/user/${isAuthenticated().user._id}`)}>\n                    {`${isAuthenticated().user.name}'s profile`}\n                </Link>  \n            </li>\n\n\n            \n\n            <li className=\"nav-item \">\n                <span className=\"nav-link\" \n                    style={\n                        (isActive(history,\"/signup\"), \n                        {cursor: \"pointer\", color:\"#fff\"})}\n                    onClick={()=>signout(()=>history.push('/'))}>\n                    Sign out\n                </span>\n            </li>\n           \n        \n        \n        </>\n       )}\n    </ul>\n </div>\n);\n\nexport default withRouter(Menu);\n\n","import React, { Component } from 'react';\nimport {signup} from '../auth';\nimport {Link} from 'react-router-dom'\n\nclass Signup extends Component {\n    constructor(){\n        super()\n        this.state = {\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            error: \"\", \n            open: false\n        }\n    };\n\n\n    handleChange=(name)=> (event) =>{\n        this.setState({error:\"\"})\n        this.setState({[name]:event.target.value})\n    };\n\n    clickSubmit=(event)=>{\n        event.preventDefault();\n        const {name, email, password} = this.state;\n        const user ={\n            name: name,\n            email: email,\n            password: password\n        };\n        signup(user)\n        .then(data=>{\n            if(data.error) this.setState({error: data.error})\n            else this.setState({\n                error: \"\",\n                 name: \"\",\n                  password: \"\",\n                   email: \"\",\n                   open: true\n                })    \n        })\n    };\n\n\n    \n    signupForm=(name, email, password)=>(\n        <form>\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Name</label>\n            <input onChange = {this.handleChange(\"name\")} type=\"text\" value = {name} className=\"form-control\"/>\n        </div>\n\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Email</label>\n            <input onChange = {this.handleChange(\"email\")} type=\"text\" value = {email} className=\"form-control\"/>\n        </div>\n\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Password</label>\n            <input onChange = {this.handleChange(\"password\")} type=\"password\" value = {password} className=\"form-control\"/>\n        </div>\n\n           <button onClick ={this.clickSubmit} className=\"btn btn-raised btn-primary\">Submit</button>\n       </form>\n    )\n\n    render() {\n        const {name, email, password, error, open} = this.state;\n        return (\n           \n            <div className=\"container\">\n                <h2 className = \"mt-5 mb-5\">Signup</h2>\n                <div className=\"alert alert-danger\" \n                style={{display: error ? \"\": \"none\"}}>\n                     {error}\n                </div>\n\n                <div className=\"alert alert-info\" \n                style={{display: open ? \"\": \"none\"}}>\n                     New account is successfully created. Please <Link to=\"/signin\">Sign in</Link>.\n                </div>\n\n               {this.signupForm(name, email, password)}\n                \n            </div>\n        );\n    }\n}\n\nexport default Signup;","import React, { Component } from \"react\";\nimport FacebookLogin from 'react-facebook-login';\nimport { Redirect } from \"react-router-dom\";\nimport GoogleLogin from \"react-google-login\";\nimport { socialLogin, authenticate } from \"../auth\";\n \nclass SocialLogin extends Component {\n    constructor() {\n        super();\n        this.state = {\n            redirectToReferrer: false\n        };\n    }\n \n    responseGoogle = response => {\n        console.log(\"this comes from google\", response);\n        const { googleId, name, email, imageUrl } = response.profileObj;\n        const user = {\n            password: googleId,\n            name: name,\n            email: email,\n            imageUrl: imageUrl\n        };\n         console.log(\"user obj to social login: \", user);\n        socialLogin(user).then(data => {\n            console.log(\"signin data: \", data);\n            if (data.error) {\n                console.log(\"Error Login. Please try again..\");\n            } else {\n                console.log(\"signin success - setting jwt: \", data);\n                authenticate(data, () => {\n                    this.setState({ redirectToReferrer: true });\n                });\n            }\n        });\n    };\n\n    responseFacebook = response => {\n        console.log(\"this comes from facebbok\", response);\n        const { name, email, picture, appId } = response;\n        const user = {\n            password: appId,\n            name: name,\n            email: email,\n            picture: picture\n        };\n        socialLogin(user).then(data => {\n            console.log(\"signin data: \", data);\n            if (data.error) {\n                console.log(\"Error Login. Please try again..\");\n            } else {\n                console.log(\"signin success - setting jwt: \", data);\n                authenticate(data, () => {\n                    this.setState({ redirectToReferrer: true });\n                });\n            }\n        });\n      };\n      \n componentClicked = () => {\n        console.log( \"Clicked!\" )\n      };\n \n    render() {\n        // redirect\n        const { redirectToReferrer } = this.state;\n        if (redirectToReferrer) {\n            return <Redirect to=\"/\" />;\n        }\n \n        return (\n            <div>\n            \n            <GoogleLogin\n                clientId=\"590589910815-gb1hotl5nnh2ooh5q8177jk50nshojpk.apps.googleusercontent.com\"\n                buttonText=\"Login with Google\"\n                onSuccess={this.responseGoogle}\n                onFailure={this.responseGoogle}\n            />\n\n<p></p>\n\n            <FacebookLogin\n                appId=\"1353682264756862\"\n                autoLoad={false}\n                fields=\"name,email,picture, password\"\n                buttonText=\"Facebook Login\"\n                onClick={this.componentClicked}\n                callback={this.responseFacebook}\n            />\n            </div>\n        );\n    }\n}\n \nexport default SocialLogin;\n\n\n","import React, { Component } from 'react';\nimport {Link, Redirect} from 'react-router-dom';\nimport {signin, authenticate} from '../auth';\nimport SocialLogin from \"./SocialLogin\";\n\nclass Signin extends Component {\n    constructor(){\n        super()\n        this.state = {\n            email: \"\",\n            password: \"\",\n            error: \"\",\n            redirectToReferer: false,\n            loading: false\n        }\n    };\n\n\n    handleChange=(name)=> (event) =>{\n        this.setState({error:\"\"})\n        this.setState({[name]:event.target.value})\n    };\n\n\n\n    clickSubmit=(event)=>{\n        event.preventDefault();\n        this.setState({loading: true})\n        const { email, password} = this.state;\n        const user ={\n            email: email,\n            password: password\n        };\n\n\n        signin(user)\n        .then(data=>{\n            if(data.error) {\n                this.setState({error: data.error, loading: false})\n            }\n            else {\n                //authenticate\n                authenticate(data, ()=>{\n                    this.setState({\n                        redirectToReferer: true\n                    });\n                })\n                //redirect\n                \n            }  \n        })\n    };\n\n\n\n    \n    signinForm=(email, password)=>(\n        <form>\n\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Email</label>\n            <input onChange = {this.handleChange(\"email\")} type=\"text\" value = {email} className=\"form-control\"/>\n        </div>\n\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Password</label>\n            <input onChange = {this.handleChange(\"password\")} type=\"password\" value = {password} className=\"form-control\"/>\n        </div>\n\n           <button onClick ={this.clickSubmit} className=\"btn btn-raised btn-primary\">Submit</button>\n         \n          \n       </form>\n    )\n\n    render() {\n        const {email, password, error, redirectToReferer, loading} = this.state;\n        if(redirectToReferer){ return <Redirect to =\"/\" /> }           \n\n        return (\n           \n            <div className=\"container\">\n                <h2 className = \"mt-5 mb-5\">Login</h2>\n                <h6>To test login use username: admin@admin.com and password: admin.com1 </h6>\n                <hr /> <SocialLogin /><hr />\n                <div className=\"alert alert-danger\" \n                style={{display: error ? \"\": \"none\"}}>\n                     {error}\n                </div>\n                {loading ? <div className =\"jumbotron text-center\">\n                    <h2>Loading...</h2>\n                </div>:\"\"}\n\n               {this.signinForm(email, password)}\n                \n\n                <p>\n                <Link to=\"/forgot-password\" className=\"btn btn-raised btn-danger\">{\" \"}\n                    Forgot Password?\n                </Link>\n                </p>\n\n\n            </div>\n        );\n    }\n}\n\nexport default Signin;","export const read = (userId, token)=>{\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`,{\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}` \n                } \n            })\n        .then(response=>{\n        return response.json();\n    })\n        .catch(err=>console.log(\"apiUser:\",err))\n};\n\n//remove user\nexport const remove = (userId, token)=>{\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`,{\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}` \n                } \n            })\n        .then(response=>{\n        return response.json();\n    })\n        .catch(err=>console.log(err))\n};\n\n//create list of users\nexport const list =() =>{\n    return fetch(`${process.env.REACT_APP_API_URL}/users`,{\n        method: \"GET\"\n            })\n        .then(response=>{\n        return response.json();\n    })\n        .catch(err=>console.log(err))\n};\n\n//update user info\nexport const update = (userId, token, user)=>{\n    return fetch(`${process.env.REACT_APP_API_URL}/user/${userId}`,{\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}` },\n        body: user\n        })\n        .then(response=>{\n            console.log(response);\n           \n        return response.json();\n    })\n        .catch(err=>console.log(err))\n};\n\nexport const updateUser = (user, next) =>{\n    if(typeof window !=='undefined'){\n        if(localStorage.getItem('jwt')){\n            let auth = JSON.parse(localStorage.getItem('jwt'))\n            auth.user = user\n            localStorage.setItem('jwt', JSON.stringify(auth))\n            next();\n        }\n    }\n}\n\nexport const follow = (userId, token, followId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/follow`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, followId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\n\nexport const unfollow = (userId, token, unfollowId) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/unfollow`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ userId, unfollowId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n\nexport const findPeople = (userId, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/user/findpeople/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};","import React, { Component } from 'react';\nimport {isAuthenticated, signout} from '../auth';\nimport {remove} from './apiUser';\nimport {Redirect} from 'react-router-dom';\n\n\nclass DeleteUser extends Component {\n\n    state ={\n        redirect: false\n    }\n    deleteAccount=()=>{\n        const token = isAuthenticated().token;\n        const userId = this.props.userId;\n        remove(userId, token)\n        .then(data=>{\n            if(data.error){\n                console.log(data.error)\n            }else{\n                //signout\n                signout(()=>console.log(\"User is deleted\"));\n                //redirect\n                this.setState({redirect: true})\n            }\n        })\n    };\n\n    deleteConfirmed=()=>{\n        let answer = window.confirm(\"Are you sure you want to delete your account?\")\n        if(answer){\n            this.deleteAccount()\n        }\n    }\n\n\n    render() {\n        if(this.state.redirect){\n            return <Redirect to=\"/\"/>\n        }\n        return (\n            <button onClick={this.deleteConfirmed}\n            className=\"btn btn-raised btn-danger\">\n            Delete profile\n            </button>\n        );\n    }\n}\n\nexport default DeleteUser;","import React, { Component } from 'react';\nimport {follow, unfollow} from './apiUser';\n\n\n\nclass FollowProfileButton extends Component {\n    followClick = () => {\n        this.props.onButtonClick(follow);\n    };\n\n    unfollowClick = () => {\n        this.props.onButtonClick(unfollow);\n    };\n\n    render() {\n        return (\n            <div className=\"d-inline-block\">\n                {!this.props.following ? (\n                    <button\n                        onClick={this.followClick}\n                        className=\"btn btn-success btn-raised mr-5\"\n                    >\n                        Follow\n                    </button>\n                ) : (\n                    <button\n                        onClick={this.unfollowClick}\n                        className=\"btn btn-warning btn-raised\"\n                    >\n                        UnFollow\n                    </button>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default FollowProfileButton;","import React, { Component } from 'react';\nimport {Link} from 'react-router-dom';\nimport DefaultProfile from '../images/avatar.jpg'\n\n\n\nclass ProfileTabs extends Component {\n    render() {\n        const {following, followers, posts} = this.props\n        return (\n            <div>\n                <div className=\"row\">\n                    <div className=\"col-md-4\">\n                        <h3 className=\"text-primary\">\n                            Followers\n                            <hr/>\n                            {followers.map((person, i)=>(\n                             <div key={i}>\n                                    <div>\n                                    <Link to ={`/user/${person._id}`}>\n                                    <img \n                                        style = {{borderRadius: \"50px\", \n                                                border: '1px solid black'}}\n                                        className=\"float-left mr-2\"\n                                        height = \"30px\"\n                                        width=\"30px\"\n                                        onError={i=>(i.target.src = `${DefaultProfile}`)}\n                                        src ={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`}\n                                        alt={person.name}/>\n\n                                           <div className=\"\">\n                                            <p className=\"lead\">\n                                            {person.name}\n                                            </p>\n\n                                        </div>\n                                    </Link>\n                                    </div>\n                                </div>\n                                ) )}\n                        </h3>\n                    </div>\n                \n                \n               \n                    <div className=\"col-md-4\">\n                        <h3 className=\"text-primary\">\n                            Following\n                            <hr/>\n                            {following.map((person, i)=>(\n                             <div key={i}>\n                                    <div>\n                                    <Link to ={`/user/${person._id}`}>\n                                        <img \n                                        style = {{borderRadius: \"50px\", \n                                                border: '1px solid black'}}\n                                        className=\"float-left mr-2\"\n                                        height = \"30px\"\n                                        width=\"30px\"\n                                        onError={i=>(i.target.src = `${DefaultProfile}`)}\n                                        src ={`${process.env.REACT_APP_API_URL}/user/photo/${person._id}`}\n                                        alt={person.name}/>\n                                           <div className=\"\">\n                                            <p className=\"lead\">\n                                            {person.name}\n                                            </p>\n                                        </div>\n                                    </Link>\n                                    </div>\n                                </div>\n                                ) ) }\n                        </h3>\n                    </div>  \n\n                     \n\n                    <div className=\"col-md-4\">\n                        <h3 className=\"text-primary\">{posts.length} Posts</h3>\n                        <hr />\n                        {posts.map((post, i) => (\n                            <div key={i}>\n                                <div>\n                                    <Link to={`/post/${post._id}`}>\n                                        <div>\n                                            <p className=\"lead\">{post.title}</p>\n                                        </div>\n                                    </Link>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default ProfileTabs;\n","import React, { Component } from 'react';\nimport {isAuthenticated} from '../auth';\nimport {Redirect, Link} from \"react-router-dom\"; \nimport {read} from './apiUser';\nimport DefaultProfile from '../images/avatar.jpg'\nimport DeleteUser from './DeleteUser';\nimport FollowProfileButton from './FollowProfileButton'\nimport ProfileTabs from './ProfileTabs';\nimport {listByUser} from '../post/apiPost';\n\nclass Profile extends Component {\n    constructor(){\n        super()\n        this.state={\n            user: {following: [], followers: [] },\n            redirectToSignin: false,\n            following: false,\n            error: '',\n            posts: []\n            \n        };\n    }\n\n\n//check follow\ncheckFollow = user =>{\n    const jwt = isAuthenticated()\n    const match = user.followers.find(follower=>{\n\n        //one id -> to many ids\n        return follower._id === jwt.user._id\n    })\n    return match;\n}\n\n\n\nclickFollowButton = (callApi)=>{\n\n    const userId = isAuthenticated().user._id;\n    const token = isAuthenticated().token;\n\n    callApi(userId, token, this.state.user._id)\n    .then(data=>{\n    if(data.error){\n        this.setState({error: data.error})\n        } else {\n        this.setState({user: data, following: !this.state.following})\n        }\n    })\n}\n\ninit = userId => {\n    const token = isAuthenticated().token;\n    read(userId, token).then(data => {\n        if (data.error) {\n            this.setState({ redirectToSignin: false });\n        } else {\n            let following = this.checkFollow(data);\n            this.setState({ user: data, following });\n            this.loadPosts(data._id);\n        }\n    });\n};\n\nloadPosts = userId => {\n    const token = isAuthenticated().token;\n    listByUser(userId, token).then(data => {\n        if (data.error) {\n            console.log(data.error);\n        } else {\n            this.setState({ posts: data });\n        }\n    });\n};\n\n\n//to someone's profile\ncomponentDidMount(){\n    const userId = this.props.match.params.userId;\n    this.init(userId);\n};\n\n//to see own profile from menu\ncomponentWillReceiveProps(props){\n    const userId = props.match.params.userId;\n    this.init(userId);\n};\n\n    render() {\n        const {redirectToSignin, user, posts} = this.state;\n        if(redirectToSignin) return <Redirect to=\"/signin\"/>;\n\n            \n        const photoUrl = user._id\n        ? `${process.env.REACT_APP_API_URL}/user/photo/${\n              user._id\n          }?${new Date().getTime()}`\n        : DefaultProfile;\n\n\n        return (\n        <div className=\"container\">\n        <h2 className=\"mt-5 mb-5\">Profile</h2>\n        <div className=\"row\">\n            <div className=\"col-md-4\">\n            <img \n                    style={{ height: \"200px\", width: \"auto\" }}\n                    className=\"img-thumbnail\"\n                    src={photoUrl}\n                    onError={i=>(i.target.src=`${DefaultProfile}`)}\n                    alt={user.name} \n                /> \n            </div>\n\n            <div className=\"col-md-8\">\n                <div className=\"lead mt-2\">\n                    <p> {user.name}</p>\n                    <p>email {user.email}</p>\n                    <p>{`Joined ${new Date(user.created).toDateString()}`}</p>\n                </div>\n\n\n                {isAuthenticated().user&&\n                isAuthenticated().user._id===user._id?(\n                    <div className=\"d-inline-block\">\n\n                    <Link className=\"btn btn-raised btn-info mr-5\"\n                              to={`/post/create`}>\n                              Create post\n                        </Link>\n\n                        <Link className=\"btn btn-raised btn-success mr-5\"\n                              to={`/user/edit/${user._id}`}>\n                              Edit profile\n                        </Link>\n                       <DeleteUser userId = {user._id}></DeleteUser>\n                    </div>\n                ):(\n                    //false or true,  hide or show button\n                    <FollowProfileButton \n                        following={this.state.following}\n                        onButtonClick = {this.clickFollowButton}\n                        />\n                \n                )}\n\n                <hr/>\n                <ProfileTabs \n                    followers={user.followers}\n                    following = {user.following}\n                    posts =  {posts}\n                />\n            </div>\n        </div>\n        <div className=\"row\">\n            <div className=\"col md-12 mt-5 mb-5\">\n            <hr/>\n                <p className=\"lead\">\n                    {user.about}\n                </p>\n                <hr/>\n            </div>\n        </div>\n        </div>\n        );\n    }\n}\n\nexport default Profile;","import React, { Component } from 'react';\nimport {list} from \"./apiUser\"\nimport DefaultProfile from '../images/avatar.jpg'\nimport {Link} from 'react-router-dom'\n\nclass Users extends Component {\n\n    constructor(){\n        super()\n        this.state={\n            users:[]\n        }\n    }\n\n\n    //init list of users\n    componentDidMount=()=>{\n        list()\n        .then(data=>{\n            if(data.error){\n                console.log(data.error)\n            } else{\n                this.setState({users: data})\n            }\n        })\n    }\n\n    //small cards of all users with dafault image\nrenderUsers = users=> (\n<div className=\"row\">\n    {users.map((user, i)=>(\n         <div className=\"card col-md-4\" key={i}>\n         <img \n                    style={{ height: \"200px\", width: \"auto\" }}\n                    className=\"img-thumbnail\"\n                    src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`}\n                    onError={i=>(i.target.src=`${DefaultProfile}`)}\n                    alt={user.name} \n                /> \n           \n\n            <div className=\"card-body\">\n                <h5 className=\"card-title\">{user.name}</h5>\n                <p className=\"card-text\">{user.email}</p>\n                <Link\n                    className=\"btn btn-primary\"\n                    to={`/user/${user._id}`}>\n                View profile\n                </Link>\n\n            </div>\n        </div>\n    ))}\n</div>\n);\n\n\n    render() {\n        const {users} = this.state;\n        return (\n            <div className=\"container\">\n            <h2 className=\"mt-5 mb-5\">Users</h2>\n\n              {this.renderUsers(users)}\n            </div>\n        );\n    }\n}\n\nexport default Users;","import React, { Component } from 'react';\nimport {isAuthenticated} from '../auth/index';\nimport {read, update, updateUser} from './apiUser';\nimport {Redirect} from 'react-router-dom';\nimport DefaultProfile from '../images/avatar.jpg'\n\n\nclass EditProfile extends Component {\n    constructor(){\n        super()\n        this.state={\n            id: \"\",\n            user: \"\",\n            name: \"\",\n            email: \"\",\n            password: \"\", \n            redirectToProfile: false,\n            error: \"\",\n            fileSize: 0,\n            loading: false,\n            about: \"\"\n        }\n    }\n\n    init = userId=>{\n        const token = isAuthenticated().token;\n        \n       read(userId, token)\n        .then(data=>{\n            if(data.error){\n                this.setState({redirectToProfile:true})\n            } else {\n               this.setState({\n                    id: data._id, \n                    name: data.name, \n                    email: data.email,\n                    error: \"\",\n                    about: data.about\n                });\n            }\n        });\n    };\n    \n    //to someone's profile\n    componentDidMount(){\n        this.userData = new FormData()\n        const userId = this.props.match.params.userId;\n        this.init(userId);\n    \n    };\n\n    isValid=()=>{\n\n        const {name, email, password, fileSize} = this.state\n        if(name.length===0){\n            this.setState({error: \"Name is required\", loading: false})\n            return false;\n        }\n        if(fileSize>100000){\n            this.setState({error: \"File size should be less than 100Kb\", loading: false})\n            return false;\n        }\n        // email@domain.com\n        if(!/^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)){\n            this.setState({error: \"Email should be valid\"})\n            return false;\n        }\n\n        if(password>=1 && password.length<=5){\n            this.setState({error: \"Password must be at least 6 characters long\", loading: false})\n            return false;\n        }\n        return true;\n    }\n\n    handleChange=(name)=> (event) =>{\n        this.setState({error: \"\"})\n        const value = name ==='photo' ? event.target.files[0]: event.target.value;\n        const fileSize = name ==='photo' ? event.target.files[0].size: 0;\n        this.userData.set(name, value);\n        this.setState({[name]:value, fileSize: fileSize})\n    };\n\n    clickSubmit=(event)=>{\n        event.preventDefault();\n        this.setState({loading: true})\n\n        if(this.isValid()){\n            const userId = this.props.match.params.userId;\n            const token = isAuthenticated().token;\n\n            update(userId, token, this.userData)\n            .then(data=>{\n            if(data.error) {this.setState({error: data.error})}\n            else \n                updateUser(data, ()=>{\n                    this.setState({\n                        redirectToProfile: true\n                })\n               \n                })    \n            })\n        }   \n    };\n\n\n\n    signupForm=(name, email, password, about)=>(\n        <form>\n         <div className=\"form-group\">\n            <label className=\"text-muted\">Profile photo</label>\n            <input onChange = {this.handleChange(\"photo\")} type=\"file\" accept =\"image\" className=\"form-control\"/>\n        </div>\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Name</label>\n            <input onChange = {this.handleChange(\"name\")} type=\"text\" value = {name} className=\"form-control\"/>\n        </div>\n\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Email</label>\n            <input onChange = {this.handleChange(\"email\")} type=\"text\" value = {email} className=\"form-control\"/>\n        </div>\n\n        <div className=\"form-group\">\n            <label className=\"text-muted\">About</label>\n            <input onChange = {this.handleChange(\"about\")} type=\"text\" value = {about} className=\"form-control\"/>\n        </div>\n\n\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Password</label>\n            <input onChange = {this.handleChange(\"password\")} type=\"password\" value = {password} className=\"form-control\"/>\n        </div>\n\n           <button onClick ={this.clickSubmit} className=\"btn btn-raised btn-primary\">Update</button>\n       </form>\n    )\n\n\n    render() {\n\n        const {id, name, email, password, redirectToProfile, error, loading, about} = this.state;\n            if(redirectToProfile){\n               return <Redirect to={`/user/${id}`}/>\n            }\n\n            \n        const photoUrl = id?`${process.env.REACT_APP_API_URL}/user/photo/${id}?${new Date().getTime()}`: DefaultProfile\n            \n            return ( \n              <div className=\"container\">\n              <h2 className = \"mt-5 mb-5\">edit</h2>\n                <div className=\"alert alert-danger\" \n                    style={{display: error ? \"\": \"none\"}}>\n                    {error}\n                </div>\n\n                {loading ? <div className =\"jumbotron text-center\">\n                    <h2>Loading...</h2>\n                </div>:\"\"}\n\n                <img \n                    style={{ height: \"200px\", width: \"auto\" }}\n                    className=\"img-thumbnail\"\n                    src={photoUrl}\n                    onError={i=>(i.target.src=`${DefaultProfile}`)}\n                    alt={name} \n                />\n\n              {this.signupForm(name, email, password, about)}\n              </div>\n                 \n        );\n    }\n}\n\nexport default EditProfile;","import React, { Component } from 'react';\nimport {findPeople, follow} from \"./apiUser\"\nimport DefaultProfile from '../images/avatar.jpg'\nimport {Link} from 'react-router-dom'\nimport {isAuthenticated} from '../auth/index'\n\n\n\nclass FindPeople extends Component {\n\n    constructor(){\n        super()\n        this.state={\n            users:[],\n            error: '', \n            open: false\n        }\n    }\n\n\n    //init list of users\n    componentDidMount=()=>{\n        const userId = isAuthenticated().user._id;\n        const token = isAuthenticated().token;\n\n    findPeople(userId, token)\n        .then(data=>{\n            if(data.error){\n                console.log(data.error)\n            } else{\n                this.setState({users: data})\n            }\n        })\n    }\n\n    //small cards of all users with dafault image\nrenderUsers = users=> (\n<div className=\"row\">\n    {users.map((user, i)=>(\n         <div className=\"card col-md-4\" key={i}>\n         <img \n                    style={{ height: \"200px\", width: \"auto\" }}\n                    className=\"img-thumbnail\"\n                    src={`${process.env.REACT_APP_API_URL}/user/photo/${user._id}`}\n                    onError={i=>(i.target.src=`${DefaultProfile}`)}\n                    alt={user.name} \n                /> \n           \n\n            <div className=\"card-body\">\n                <h5 className=\"card-title\">{user.name}</h5>\n                <p className=\"card-text\">{user.email}</p>\n                <Link\n                    className=\"btn btn-primary\"\n                    to={`/user/${user._id}`}>\n                View profile\n                </Link>\n\n            <button \n            onClick={()=>this.clickFollow(user, i)}\n            className=\"btn btn-raised btn-info float-right btn-sm\">\n                Follow\n            </button>\n            </div>\n        </div>\n    ))}\n</div>\n);\n\n\nclickFollow=(user, i)=>{\n    const userId = isAuthenticated().user._id;\n    const token = isAuthenticated().token;\n\n    follow (userId, token, user._id)\n    .then(data=>{\n        if(data.error){\n            console.log(data.error)\n        } else{\n            let toFollow = this.state.users;\n            toFollow.splice(i, 1)\n            this.setState({\n                users: toFollow,\n                open: true,\n                followMessage: `Following ${user.name}`\n            })\n        }\n    })\n}\n\n    render() {\n        const {users, open, followMessage} = this.state;\n        return (\n            <div className=\"container\">\n            <h2 className=\"mt-5 mb-5\">Find People You can Follow</h2>\n               \n                    {open &&(\n                        <div className=\"alert alert-success\">   \n                        <p>{followMessage}</p>\n                        </div>\n                    )}\n                    \n              {this.renderUsers(users)}\n            </div>\n        );\n    }\n}\n\nexport default FindPeople;","import React, { Component } from 'react';\nimport {isAuthenticated} from '../auth/index';\nimport {create} from './apiPost';\nimport {Redirect} from 'react-router-dom';\n\n\n\nclass NewPost extends Component {\n    constructor(){\n        super()\n        this.state={\n            title: '',\n            body: '',\n            photo: '',\n            error: '',\n            user: {},\n            fileSize: 0, \n            loading: false,\n            redirectToProfile: false\n        }\n    }\n\n\n    \n\n    componentDidMount(){\n        this.postData = new FormData()\n        this.setState({user: isAuthenticated().user})\n    };\n\n    isValid=()=>{\n\n        const {title, body, fileSize} = this.state\n        if(title.length===0 || body.length === 0){\n            this.setState({error: \"All fields are required\", loading: false})\n            return false;\n        }\n        if(fileSize>100000){\n            this.setState({error: \"File size should be less than 100Kb\", loading: false})\n            return false;\n        }\n\n        return true;\n    }\n\n    handleChange=(name)=> (event) =>{\n        this.setState({error: \"\"})\n        const value = name ==='photo' ? event.target.files[0]: event.target.value;\n        const fileSize = name ==='photo' ? event.target.files[0].size: 0;\n        this.postData.set(name, value);\n        this.setState({[name]:value, fileSize: fileSize})\n    };\n\n    clickSubmit=(event)=>{\n        event.preventDefault();\n        this.setState({loading: true})\n\n        if(this.isValid()){\n            const userId = isAuthenticated().user._id;\n            const token = isAuthenticated().token;\n\n            create(userId, token, this.postData)\n            .then(data=>{\n            if(data.error) this.setState({error: data.error})\n            else \n                { this.setState({\n                loading: false, \n                title :'',\n                body: '',\n                redirectToProfile: true\n                })}\n            });    \n        }   \n    };\n\n    newPostForm=(title, body)=>(\n        <form>\n         <div className=\"form-group\">\n            <label className=\"text-muted\">Profile photo</label>\n            <input onChange = {this.handleChange(\"photo\")} type=\"file\" accept =\"image/*\" className=\"form-control\"/>\n        </div>\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Title</label>\n            <input onChange = {this.handleChange(\"title\")} type=\"text\" value = {title} className=\"form-control\"/>\n        </div>\n\n        <div className=\"form-group\">\n            <label className=\"text-muted\">Body</label>\n            <input onChange = {this.handleChange(\"body\")} type=\"text\" value = {body} className=\"form-control\"/>\n        </div>\n\n\n           <button onClick ={this.clickSubmit} className=\"btn btn-raised btn-primary\">Create post</button>\n       </form>\n    )\n\n\n    render() {\n\n        const {\n            title,\n            body,\n            user,\n            error,\n            loading, \n            redirectToProfile\n        } = this.state;\n\n\n             if(redirectToProfile){\n               return <Redirect to={`/user/${user._id}`}/>\n            }\n    \n            return ( \n              <div className=\"container\">\n              <h2 className = \"mt-5 mb-5\">Create a new post</h2>\n                <div className=\"alert alert-danger\" \n                    style={{display: error ? \"\": \"none\"}}>\n                    {error}\n                </div>\n\n                {loading\n                ? <div className =\"jumbotron text-center\"><h2>Loading...</h2></div>\n                : \"\"}\n              {this.newPostForm(title, body)}\n              </div>         \n        );\n    }\n}\n\nexport default NewPost;","import React, { Component } from 'react';\nimport {singlePost, remove} from './apiPost';\nimport DefaultPost from '../images/post-default.jpg'\nimport {Link, Redirect} from 'react-router-dom'\nimport {isAuthenticated} from '../auth/index'\n\nclass SinglePost extends Component {\n    state = {\n        post:'',\n        redirectToHome: false\n    }\n\n    componentDidMount =()=>{\n        const postId = this.props.match.params.postId;\n        singlePost(postId).then(data =>{\n            if (data.error){\n                console.log(data.error);\n            } else {\n                this.setState({post: data});\n            }\n        });\n    };\n\n    deletePost =()=>{\n            const postId = this.props.match.params.postId;\n            const token = isAuthenticated().token;\n            remove(postId, token).then(data=>{\n                if(data.error){\n                    console.log(data.error)\n                }else{\n                    this.setState({\n                        redirectToHome: true\n                    })\n                }\n            })\n    }\n\n    deleteConfirmed =()=>{\n        let answer = window.confirm(\"Are you sure you want to delete your post?\")\n        if(answer){\n            this.deletePost()\n        }\n    }\n\n    renderPost=(post)=>{\n        const posterId = post.postedBy?`/user/${post.postedBy._id}`:\"\";\n        const posterName = post.postedBy?post.postedBy.name:\"Unknown\";\n\n        return (\n\n                        <div className=\"card-body\">\n                        \n                            <img src={`${process.env.REACT_APP_API_URL}/post/photo/${post._id}`}\n                            alt={post.title}\n                            onError={i=>(i.target.src=`${DefaultPost}`)}\n                            style={{ height: \"300px\",\n                                     width: \"100%\",\n                                     objectFit: \"cover\"}}\n\n                            className=\"img-thunbnail mb-3\"\n                            />\n\n                            <p className=\"card-text\">{post.body}</p>\n                            <br/>\n                            <p className=\"font-italic mark\">\n                            Posted by{\" \"}\n                                    <Link to={`${posterId}`}>\n                                        {posterName}{\" \"}\n                                    </Link>\n                               on {new Date(post.created).toDateString()}\n                            </p>\n                            <div className=\"d-inline-block\">\n                            <Link\n                                className=\"btn btn-raised btn-primary btn-sm mr-5\"\n                                to={`/`}>\n                            Back to posts...\n                            </Link>\n\n                            {isAuthenticated().user\n                            &&isAuthenticated().user._id===post.postedBy._id\n                            &&<>\n                                <Link\n                               \n                                className=\"btn btn-raised btn-warning btn-sm mr-5\"\n                                to={`/post/edit/${post._id}`}>\n                                Edit post\n                                </Link>\n\n                                <Link\n                                onClick={this.deleteConfirmed}\n                                className=\"btn btn-raised btn-warning btn-sm mr-5\"\n                                to={`/`}>\n                                Delete post\n                                </Link>\n                                </>\n                            }\n                           \n                            \n                            </div>\n                        </div>\n                );\n        }\n\n    render() {\n        if(this.state.redirectToHome){\n            return <Redirect to={`/`}/>;\n        }\n        const {post} = this.state;\n        return (\n            <div className=\"container\">\n            <h2 className=\"display-2 mt-5 mb-5\">{post.title}</h2>\n            {!post ? <div className =\"jumbotron text-center\">\n                    <h2>Loading...</h2>\n                </div>:this.renderPost(post)}  \n            </div>\n        );\n    }\n}\n\nexport default SinglePost;","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport {isAuthenticated} from './index';\n\n\n//route for only authenticated users\nconst PrivateRoute=({component: Component, ...rest})=>(\n    //props means components passed down to this private route component\n    <Route {...rest} render={props=>isAuthenticated()?(\n            <Component {...props}/>\n    ):(\n            <Redirect to={{\n                pathname:\"/signin\",\n                state:{from:props.location}\n            }}\n            />\n    )}/>\n);\n\nexport default PrivateRoute;","    \nimport React, { Component } from \"react\";\nimport { singlePost, update } from \"./apiPost\";\nimport { isAuthenticated } from \"../auth\";\nimport { Redirect } from \"react-router-dom\";\nimport DefaultPost from \"../images/post-default.jpg\";\n\nclass EditPost extends Component {\n    constructor() {\n        super();\n        this.state = {\n            id: \"\",\n            title: \"\",\n            body: \"\",\n            redirectToProfile: false,\n            error: \"\",\n            fileSize: 0,\n            loading: false,\n            posterId:\"\"\n        };\n    }\n\n    init = postId => {\n        singlePost(postId).then(data => {\n            if (data.error) {\n                this.setState({ redirectToProfile: true });\n            } else {\n                this.setState({\n                    id: data._id,\n                    title: data.title,\n                    body: data.body,\n                    error: \"\",\n                    posterId: data.postedBy._id\n                });\n            }\n        });\n    };\n\n    componentDidMount() {\n        this.postData = new FormData();\n        const postId = this.props.match.params.postId;\n        this.init(postId);\n    }\n\n    isValid = () => {\n        const { title, body, fileSize } = this.state;\n        if (fileSize > 1000000) {\n            this.setState({\n                error: \"File size should be less than 100kb\",\n                loading: false\n            });\n            return false;\n        }\n        if (title.length === 0 || body.length === 0) {\n            this.setState({ error: \"All fields are required\", loading: false });\n            return false;\n        }\n        return true;\n    };\n\n    handleChange = name => event => {\n        this.setState({ error: \"\" });\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n\n        const fileSize = name === \"photo\" ? event.target.files[0].size : 0;\n        this.postData.set(name, value);\n        this.setState({ [name]: value, fileSize });\n    };\n\n    clickSubmit = event => {\n        event.preventDefault();\n        this.setState({ loading: true });\n\n        if (this.isValid()) {\n            const postId = this.props.match.params.postId;\n            const token = isAuthenticated().token;\n\n            update(postId, token, this.postData).then(data => {\n                if (data.error) this.setState({ error: data.error });\n                else {\n                    this.setState({\n                        loading: false,\n                        title: \"\",\n                        body: \"\",\n                        redirectToProfile: true\n                    });\n                }\n            });\n        }\n    };\n\n    editPostForm = (title, body) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Post Photo</label>\n                <input\n                    onChange={this.handleChange(\"photo\")}\n                    type=\"file\"\n                    accept=\"image/*\"\n                    className=\"form-control\"\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Title</label>\n                <input\n                    onChange={this.handleChange(\"title\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={title}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Body</label>\n                <textarea\n                    onChange={this.handleChange(\"body\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={body}\n                />\n            </div>\n\n            <button\n                onClick={this.clickSubmit}\n                className=\"btn btn-raised btn-primary\"\n            >\n                Update Post\n            </button>\n        </form>\n    );\n\n    render() {\n        const {\n            id,\n            title,\n            body,\n            redirectToProfile,\n            error,\n            loading,\n            posterId\n        } = this.state;\n\n        if (redirectToProfile) {\n            return <Redirect to={`/user/${isAuthenticated().user._id}`} />;\n        }\n\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">{title}</h2>\n\n                <div\n                    className=\"alert alert-danger\"\n                    style={{ display: error ? \"\" : \"none\" }}\n                >\n                    {error}\n                </div>\n\n                {loading ? (\n                    <div className=\"jumbotron text-center\">\n                        <h2>Loading...</h2>\n                    </div>\n                ) : (\n                    \"\"\n                )}\n\n                <img src={`${process.env.REACT_APP_API_URL}/post/photo/${id}`}\n                                    alt={title}\n                                    onError={i =>(i.target.src = `${DefaultPost}`)}\n                                    className=\"img-thunbnail mb-3\"\n                                    style={{ height: \"200px\", width: \"auto\" }}\n                                />\n\n                {isAuthenticated().user.role === \"admin\" &&\n                    this.editPostForm(title, body)}\n\n                {isAuthenticated().user._id === posterId &&\n                    this.editPostForm(title, body)}\n            </div>\n        );\n    }\n}\n\nexport default EditPost;","import React, { Component } from \"react\";\nimport { forgotPassword } from \"../auth\";\n \nclass ForgotPassword extends Component {\n    state = {\n        email: \"\",\n        message: \"\",\n        error: \"\"\n    };\n \n    forgotPassword = e => {\n        e.preventDefault();\n        this.setState({ message: \"\", error: \"\" });\n        forgotPassword(this.state.email).then(data => {\n            if (data.error) {\n                console.log(data.error);\n                this.setState({ error: data.error });\n            } else {\n                console.log(data.message);\n                this.setState({ message: data.message });\n            }\n        });\n    };\n \n    render() {\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Ask for Password Reset</h2>\n \n                {this.state.message && (\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\n                )}\n                {this.state.error && (\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\n                )}\n \n                <form>\n                    <div className=\"form-group mt-5\">\n                        <input\n                            type=\"email\"\n                            className=\"form-control\"\n                            placeholder=\"Your email address\"\n                            value={this.state.email}\n                            name=\"email\"\n                            onChange={e =>\n                                this.setState({\n                                    email: e.target.value,\n                                    message: \"\",\n                                    error: \"\"\n                                })\n                            }\n                            autoFocus\n                        />\n                    </div>\n                    <button\n                        onClick={this.forgotPassword}\n                        className=\"btn btn-raised btn-primary\"\n                    >\n                        Send Password Rest Link\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n \nexport default ForgotPassword;","import React, { Component } from \"react\";\nimport { resetPassword } from \"../auth\";\n \nclass ResetPassword extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            newPassword: \"\",\n            message: \"\",\n            error: \"\"\n        };\n    }\n \n    resetPassword = e => {\n        e.preventDefault();\n        this.setState({ message: \"\", error: \"\" });\n \n        resetPassword({\n            newPassword: this.state.newPassword,\n            resetPasswordLink: this.props.match.params.resetPasswordToken\n        }).then(data => {\n            if (data.error) {\n                console.log(data.error);\n                this.setState({ error: data.error });\n            } else {\n                console.log(data.message);\n                this.setState({ message: data.message, newPassword: \"\" });\n            }\n        });\n    };\n \n    render() {\n        return (\n            <div className=\"container\">\n                <h2 className=\"mt-5 mb-5\">Reset your Password</h2>\n \n                {this.state.message && (\n                    <h4 className=\"bg-success\">{this.state.message}</h4>\n                )}\n                {this.state.error && (\n                    <h4 className=\"bg-warning\">{this.state.error}</h4>\n                )}\n \n                <form>\n                    <div className=\"form-group mt-5\">\n                        <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            placeholder=\"Your new password\"\n                            value={this.state.newPassword}\n                            name=\"newPassword\"\n                            onChange={e =>\n                                this.setState({\n                                    newPassword: e.target.value,\n                                    message: \"\",\n                                    error: \"\"\n                                })\n                            }\n                            autoFocus\n                        />\n                    </div>\n                    <button\n                        onClick={this.resetPassword}\n                        className=\"btn btn-raised btn-primary\"\n                    >\n                        Reset Password\n                    </button>\n                </form>\n            </div>\n        );\n    }\n}\n \nexport default ResetPassword;","import React from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport Home from './core/Home'\nimport Menu from './core/Menu'\nimport Signup from './user/Signup'\nimport Signin from './user/Signin'\nimport Profile from './user/Profile'\nimport Users from './user/Users'\nimport EditProfile from './user/EditProfile'\nimport FindPeople from './user/FindPeople'\nimport NewPost from './post/NewPost'\nimport SinglePost from './post/SinglePost'\nimport PrivateRoute from './auth/PrivateRoute'\nimport EditPost from './post/EditPost'\nimport ForgotPassword from \"./user/ForgotPassword\";\nimport ResetPassword from \"./user/ResetPassword\";\n\nconst MainRouter =()=>(\n    <div>\n    <Menu/>\n        <Switch>\n        <Route exact path=\"/\" component = {Home} />\n        <Route exact path=\"/forgot-password\" component={ForgotPassword} />\n        <Route exact path=\"/reset-password/:resetPasswordToken\" component={ResetPassword} />\n        <Route exact path=\"/post/:postId\" component = {SinglePost} />\n        <PrivateRoute exact path=\"/post/edit/:postId\" component = {EditPost} />\n        <Route exact path=\"/users\" component = {Users} />\n        <Route exact path=\"/signup\" component = {Signup} />\n        <Route exact path=\"/signin\" component = {Signin} />\n        <PrivateRoute exact path=\"/user/edit/:userId\" component = {EditProfile} />\n        <PrivateRoute exact path=\"/user/findpeople/:userId\" component = {FindPeople} />\n        <PrivateRoute exact path=\"/post/create/:userId\" component = {NewPost} />\n\n        <Route exact path=\"/user/:userId\" component = {Profile} />\n\n            \n            \n        </Switch>\n    </div>\n);\n\nexport default MainRouter;","import React from 'react';\nimport {BrowserRouter} from 'react-router-dom';\nimport MainRouter from './MainRouter';\n\nconst App =()=>(\n  <BrowserRouter>\n    <MainRouter/>\n  </BrowserRouter>\n)\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/avatar.d5f51047.jpg\";"],"sourceRoot":""}